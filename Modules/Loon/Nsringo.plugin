#!name= Merged Nsringo
#!desc= Merger Nsringo for Loon
#!author= Jacob[https://github.com/ifflagged/BaDaBaBaBa]
#!icon= https://github.com/Semporia/Hand-Painted-icon/raw/master/Universal/Reject.orig.png

[Rule]
# Location
# ğŸ“ Country Code
DOMAIN,gspe1-ssl.ls.apple.com,DIRECT
# Maps
# ğŸ—ºï¸ Tiles
DOMAIN,gspe19-cn-ssl.ls.apple.com,DIRECT
# ğŸ—ºï¸ Dispatcher
DOMAIN,dispatcher.is.autonavi.com,DIRECT
# ğŸ—ºï¸ Directions & ETA
DOMAIN,direction2.is.autonavi.com,DIRECT

[Script]
# Location
# ğŸ“ Country Code
http-response ^https?:\/\/gspe1-ssl\.ls\.apple\.com\/pep\/gcc script-path=https://github.com/NSRingo/GeoServices/releases/latest/download/response.js, requires-body=1, tag=ğŸ“ Location.pep.gcc.response, argument=[{PEP.GCC}]
# Maps
# ğŸ—ºï¸ Network Defaults
http-request ^https?:\/\/configuration\.ls\.apple\.com\/config\/defaults script-path=https://github.com/NSRingo/GeoServices/releases/download/v4.0.9/request.js, tag=ğŸ—ºï¸ ï£¿Maps.config.defaults.request, argument=[{GeoManifest.Dynamic.Config.CountryCode.default},{GeoManifest.Dynamic.Config.CountryCode.watchOS},{UrlInfoSet.Dispatcher},{UrlInfoSet.Directions},{UrlInfoSet.RAP},{UrlInfoSet.LocationShift},{TileSet.Satellite},{TileSet.Flyover},{TileSet.Munin}]
http-response ^https?:\/\/configuration\.ls\.apple\.com\/config\/defaults script-path=https://github.com/NSRingo/GeoServices/releases/download/v4.0.9/response.js, requires-body=1, tag=ğŸ—ºï¸ ï£¿Maps.config.defaults.response, argument=[{GeoManifest.Dynamic.Config.CountryCode.default},{GeoManifest.Dynamic.Config.CountryCode.watchOS},{UrlInfoSet.Dispatcher},{UrlInfoSet.Directions},{UrlInfoSet.RAP},{UrlInfoSet.LocationShift},{TileSet.Satellite},{TileSet.Flyover},{TileSet.Munin}]
# ğŸ—ºï¸ Announcements
http-request ^https?:\/\/gspe35-ssl\.ls\.apple\.(com|cn)\/config\/announcements script-path=https://github.com/NSRingo/GeoServices/releases/download/v4.0.9/request.js, tag=ğŸ—ºï¸ ï£¿Maps.config.announcements.request, argument=[{GeoManifest.Dynamic.Config.CountryCode.default},{GeoManifest.Dynamic.Config.CountryCode.watchOS},{UrlInfoSet.Dispatcher},{UrlInfoSet.Directions},{UrlInfoSet.RAP},{UrlInfoSet.LocationShift},{TileSet.Satellite},{TileSet.Flyover},{TileSet.Munin}]
http-response ^https?:\/\/gspe35-ssl\.ls\.apple\.(com|cn)\/config\/announcements script-path=https://github.com/NSRingo/GeoServices/releases/download/v4.0.9/response.js, requires-body=1, binary-body-mode=1, tag=ğŸ—ºï¸ ï£¿Maps.config.announcements.response, argument=[{GeoManifest.Dynamic.Config.CountryCode.default},{GeoManifest.Dynamic.Config.CountryCode.watchOS},{UrlInfoSet.Dispatcher},{UrlInfoSet.Directions},{UrlInfoSet.RAP},{UrlInfoSet.LocationShift},{TileSet.Satellite},{TileSet.Flyover},{TileSet.Munin}]
# ğŸ—ºï¸ Resource Manifest
http-request ^https?:\/\/gspe35-ssl\.ls\.apple\.(com|cn)\/geo_manifest\/dynamic\/config script-path=https://github.com/NSRingo/GeoServices/releases/download/v4.0.9/request.js, tag=ğŸ—ºï¸ ï£¿Maps.config.announcements.request, argument=[{GeoManifest.Dynamic.Config.CountryCode.default},{GeoManifest.Dynamic.Config.CountryCode.watchOS},{UrlInfoSet.Dispatcher},{UrlInfoSet.Directions},{UrlInfoSet.RAP},{UrlInfoSet.LocationShift},{TileSet.Satellite},{TileSet.Flyover},{TileSet.Munin}]
http-response ^https?:\/\/gspe35-ssl\.ls\.apple\.(com|cn)\/geo_manifest\/dynamic\/config script-path=https://github.com/NSRingo/GeoServices/releases/download/v4.0.9/response.js, requires-body=1, binary-body-mode=1, tag=ğŸ—ºï¸ ï£¿Maps.geo_manifest.dynamic.config.response, argument=[{GeoManifest.Dynamic.Config.CountryCode.default},{GeoManifest.Dynamic.Config.CountryCode.watchOS},{UrlInfoSet.Dispatcher},{UrlInfoSet.Directions},{UrlInfoSet.RAP},{UrlInfoSet.LocationShift},{TileSet.Satellite},{TileSet.Flyover},{TileSet.Munin}]

[MITM]
hostname = configuration.ls.apple.com, gspe1-ssl.ls.apple.com, gspe35-ssl.ls.apple.com
